\documentclass[a5paper,10pt]{article}

% https://github.com/InDevRus/filippov-solutions
\input{../preambles/general}
\input{../preambles/plotting}

\begin{document}

$y' \ctg x + y = 2$. $y' \ctg x + \br{y - 2} = 0$. $y = 2$ является решением. $\dfrac {y'} {y - 2} + \tg x = 0$.

$\tint \dfrac {y'} {y - 2} dx = \tint \dfrac {dy} {y - 2} = \ln\vbr{y - 2} + C$.
$\tint \tg x \ dx 
= \tint \dfrac {\sin x} {\cos x} dx 
= -\tint \dfrac {d\br{\cos x}} {\cos x} = \linebreak
= -\ln\vbr{\cos x} + C$.

$\ln \vbr{y - 2} - \ln \vbr{\cos x} = C$. $y = C \cos x + 2$. При этом $y = 2$ получается при $C = 2$.

Итак, общее решение имеет вид $y = C \cos x + 2$.

\begin{figure}[h]
    \begin{tikzpicture}
        \pgfplotsset{
            Graph/.style = {
                    samples = 500,
                },
        }
        \begin{axis}[
            width = 14cm,
            height = 10cm,
            ymin = -0.8,
            ymax = 5.2,
            xmin = -8.2,
            xmax = 8.2, 
            xtick = {-10, ..., 10},
            ytick = {-10, ..., 10},
            minor tick num = 3,
            declare function = {
                f(\C, \x) = \C * cos(deg(x)) + 2;
            }]
            
            \draw[thick] (-8, 2) -- (8, 2);
            
            \addplot[Graph, domain = -8 : 8, blue] {f(0.25, x)};
            \addplot[Graph, domain = -8 : 8, pink] {f(-0.25, x)};
            \addplot[Graph, domain = -8 : 8, red] {f(0.5, x)};
            \addplot[Graph, domain = -8 : 8, magenta] {f(-0.5, x)};
            \addplot[Graph, domain = -8 : 8, olive] {f(1, x)};
            \addplot[Graph, domain = -8 : 8, brown] {f(-1, x)};
            \addplot[Graph, domain = -8 : 8, violet] {f(2.5, x)};
            \addplot[Graph, domain = -8 : 8, purple] {f(-2.5, x)};
        \end{axis}
    \end{tikzpicture}
    \centering
\end{figure}

Найдём решение такое, что $\tlim{x \to 0} y\br{x} = -1$. Подставив в общее решение, получаем $-1 = C \cos 0 + 2$. $C = -3$, и искомое частное решение равно $y = -3 \cos x + 2$.

\end{document}
